<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>入口</title>
    <link rel="stylesheet" type="text/css" href="./css/normalize.css"/>
    <link rel="stylesheet" type="text/css" href="./css/demo.css"/>
    <!--必要样式-->
    <link rel="stylesheet" type="text/css" href="./css/component.css"/>
    <!-- 引入jquery库 -->
    <script src="./js/jQuery-2.1.4.min.js"></script>
    <!--[if IE]>
    <script src="./js/html5.js"></script>
    <![endif]-->
    <script>
        $(function () {
            alert("直接登录即可")
            $('#login').click(function () {
                // attr改变属性值
                // $('#login').attr("href","#")将标签里面的href内容换成#
                //val可以获取输入框的值，text可以获取文本的值
                var UserName = $('#user').val();
                var password = $('#pw').val();
                alert('成功登录');
                            location.href="addGoods.html";
                //    接下来使用ajax传送数据到servelet
                
                $.ajax({
                    //        请求类型post get
                    type:"post",
                    //请求地址
                    url: "loginservelet",
                    dataType: "json",
                    //   请求数据
                    data: {
                        "userName": UserName,
                        "password": password
                    },
                    //回调函数返回的data是经过后台处理的返回结果数据
                    success: function (data) {
                        //data就是我们在servelet中定义的o
                        if (data.key1=="ok")
                        {
                            alert('成功登录');
                            location.href="addGoods.html";
                        }
                        else
                        {
                            $("#msg").html("用户姓名或密码错误！！！");
                        }


                    }
                })

            })

        });

    </script>
</head>

<body>
<div class="container demo-1">
    <div class="content">
        <div id="large-header" class="large-header">
            <canvas id="demo-canvas"></canvas>
            <div class="logo_box">
                <h3>欢迎回来 </h3>
                    <div class="input_outer">
                        <input name="logname" id="user" class="text" style="color: #FFFFFF !important" type="text"
                               placeholder="请输入账户" autocomplete="new-password">
                    </div>
                    <div class="input_outer" >
                        <input name="logpass" id="pw" class="text"
                               style="color:#FFFFFF !important; position:absolute; z-index:100;" value=""
                               type="password" placeholder="请输入密码">
                    </div>
                    <span id="msg" style="font-size: 12px;color: red"></span><br>
                    <div class="mb2"><p id="login" class="act-but submit" href="/loginservlet" style="color:#FFFFFF"
                                        target="_blank">登录</p></div>
            </div>
        </div>
    </div>
</div><!-- /container -->
<script src="./js/TweenLite.min.js"></script>
<script src="./js/EasePack.min.js"></script>
<script src="./js/rAF.js"></script>
<script src="./js/demo-1.js"></script>
<div style="text-align:center;">
    <p><a rel="noopener" href="#" target="_blank">王松</a></p>
</div>
</body>

</html>